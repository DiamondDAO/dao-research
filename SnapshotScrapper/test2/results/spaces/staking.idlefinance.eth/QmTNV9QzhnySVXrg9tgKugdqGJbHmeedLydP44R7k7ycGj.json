{"id": "QmTNV9QzhnySVXrg9tgKugdqGJbHmeedLydP44R7k7ycGj", "title": "[Temperature Check] - Code Improvements and Flash Loan Fee Adjustment", "body": "### Summary\nThis IIP would execute a series of minor bug fixes reported in the past months, increasing the robustness of IdleTokens and improving the oracle infrastructure. [The post](https://gov.idle.finance/t/iip-13-code-improvements-and-flash-loan-fee-adjustment/680) proposes to decrease the Flash Loan fee to 0.02%, introducing more competitive advantages for either Ethereum layer and the upcoming Polygon release.\n\nThe proposal will have to pass the Temperature Check before starting the on-chain journey.\n\n### IIP Motivation\nAn [Immunefi](https://immunefi.com/bounty/idlefinance/) security researcher reached out to signal  the Idle protocol was using a deprecated method on 2 oracles (used by idleController and idleTokens) that might have led to stale data behavior.\n\nLeagues agreed to pay a [$500 bounty](https://etherscan.io/tx/0x19e08c21d928ef4ca109ea9ac391e661be43ec206b27274e468b4dea79e96e49) to that researcher.\n\nThe Dev League fixed the bug and released PriceOracleV3, a forked version of the previous code. Devs improved the oracle, making it upgradable and generating a single shared version used by idleController and idleTokens. In this way, one upgrade action would be able to execute any further change.\n\nThe owner of this oracle is the Governance Timelock.\nOracle Address: [0x758C10272A15f0E9D50Cbc035ff9a046945da0F2](https://etherscan.io/address/0x758C10272A15f0E9D50Cbc035ff9a046945da0F2)\n\nThere are also a couple of small fixes in the IdleTokenGovernance rebalance method for:\n* A possible revert during the activation/deactivation of new underlying protocols: [Github commit](https://github.com/Idle-Labs/idle-contracts/commit/542eeec640842db1c0bb6e80e23424749a47e4a4#diff-082b7fb522c8943f7893a03dc6135c3d98adfd3305dd3b90140dd96fb33e874de)\n* A possible revert when redeeming all funds altogether from Compound-like protocols: [Github commit](https://github.com/Idle-Labs/idle-contracts/commit/ede007220e0f2db4eb2c9fc9119ba71202f54e1e#diff-082b7fb522c8943f7893a03dc6135c3d98adfd3305dd3b90140dd96fb33e874d)\n\nThe idleController oracle update would embed the Flash Loan fee change.\nThe current fee is 0.08%, and this IIP proposes to reduce it to 0.02%. This change would allow Idle protocol to become the cheapest FL provider on Polygon (vs [Unilend 0.05%](https://docs.unilend.finance/the-protocol/flash-loan)) and compete with MakerDAO on Ethereum.\n\n### Details\nThe technical implementation is available [here](https://etherscan.io/address/0xea091ed7146e2c3cf3ac11fa296e206e55177b30) and was developed by Dev League.\n\nActions:\n* Implementation and oracle address update on Best-Yield idleTokens (8 actions)\n* idleController oracle address update and Flash Loan fee change (1 action)\n\n\n### Voting Options\nPlease cast your vote on one of the following options:\n**FOR**: Approve the proposal and initiate the on-chain IIP-13\n**AGAINST**: Vote against the proposal\n**DISCUSS MORE**: Discuss more the proposal", "choices": ["FOR", "AGAINST", "DISCUSS MORE"], "start": 1632816000, "end": 1633075200, "snapshot": "13313648", "state": "closed", "author": "0x2fa92128ecE3901395448bf62Dd5Ff6a35871540", "space": {"id": "staking.idlefinance.eth", "name": "Idle (staking)"}, "votes": 3, "votes_data": [{"id": "QmSZ1Qop5BWsKcEtDT5ykbAZVj7UbFP53WAGLp74rLqFoh", "voter": "0x83Deb18dC5574dF9558ABF719b7e109fe050560e", "created": 1632989520, "choice": 1, "space": {"id": "staking.idlefinance.eth"}}, {"id": "QmRrzWTibLyFHAS3Z88TBdDwW39TfHyRDZDqhws7rHdDUE", "voter": "0xefdF3E3B64d6B3820f3063D76cb8Db6A8CF1E196", "created": 1632871516, "choice": 1, "space": {"id": "staking.idlefinance.eth"}}, {"id": "QmXYTjdm4wPbXYscwSZCsrovJYgfUaoiJcejoaDRFvyY9v", "voter": "0x6f85D3CB1990CECAe9f91c164e7a851937969314", "created": 1632828792, "choice": 1, "space": {"id": "staking.idlefinance.eth"}}]}