{"id": "QmYzjH27kBiCVHs7vYzQg4nbXiJWyvmN5fbrxANsnTnEZ3", "title": "IIP 3: Enable Meta-Governance for COMP-Like Tokens", "body": "# Indexed Improvement Proposal 3: Enable Meta-Governance for COMP-Like Tokens\n\nDiscussion\nhttps://forum.indexed.finance/t/iip-3-enable-meta-governance-for-comp-like-tokens/56\n\nAuthor: Dillon Kellar\n\n## Summary\n\nThis proposal would enable NDX holders to vote with the COMP & UNI held by any index pool. Support for other governance tokens that support delegation will follow as the contracts are developed.\n\n### Motivation\n\nThe two indices which currently exist are DEFI5 and CC10. These 2 pools collectively hold 285k UNI and 7.3k COMP.  These are not quite enough tokens to make a large difference in proposals based on current levels of participation in these protocols, but in the future this may change, and we do not want to contribute to voter apathy in other on-chain networks.\n\nBecause these governance tokens allow delegation of voting power, it is possible to use them to vote even while they are held by the index pools. Index tokens do not support the necessary balance snapshots to allow LPs to vote with these tokens in a secure manner, but they can be delegated to meta-governance contracts where NDX holders can determine how to cast votes on UNI and COMP proposals.\n\nThis would both make our protocol a better member of the ecosystem by increasing participation in on-chain governance and increase the value proposition of NDX token itself, which would likely encourage governance participation for our own community. Additionally, it would help compensate the NDX treasury for rewards paid to keepers who keep the pools updated.\n\n## Meta Governance Contracts\n\nWe will utilize two new \"meta governance\" contracts. These are contracts modeled on GovernorAlpha, the governance contract used by NDX, COMP, UNI and several other projects, which allow NDX holders to vote on \"meta proposals\" which are proposals for how the delegated votes should be cast on external proposals for Uniswap or Compound governance.\n\nWe will use one contract for each governance token - this proposal adds MetaGovernorCOMP and MetaGovernorUNI, which use the same template.\n\nThe code for these contracts can be found here:\nhttps://github.com/indexed-finance/governance/tree/master/contracts/meta\n\n## Proxy Updates\n\nIn order to support delegation of COMP-like tokens, the proxy implementations for `MarketCapSqrtController` and `IndexPool` must be updated to allow governance to tell the index pools to delegate their voting power to the meta governor contracts.\n\nThe primary challenge with this is handling the different governance interfaces. For COMP-based tokens such as UNI and COMP, it is quite simple to enable this feature. For other tokens, we will need to create more specific contracts & delegation functions to enable meta governance. This proposal would enable support only for COMP-based tokens, with other delegation-enabled tokens to follow.\n\nThe contracts have been updated on github with the modifications described below.\n\n**MarketCapSqrtController**\n\nAdd `delegateCompLikeTokenFromPool` which is only callable by the NDX timelock. This function takes the address of an index pool, the address of the token to delegate, and the address of the delegatee, and calls `delegateCompLikeToken` on the index pool.\n\nhttps://github.com/indexed-finance/indexed-core/pull/65/commits/06ab7cb677e5b3780e435c58475d9cbb1ec1ebdc\n\n**IndexPool**\n\nAdd `delegateCompLikeToken` which is only callable by the controller. This function takes the address of the token to delegate and the address of the meta governor to delegate to, then calls the `delegate` function on the token to delegate to the governor.\n\nhttps://github.com/indexed-finance/indexed-core/pull/65/commits/dae7f231d0f58bfc0993f6c01199cd6b74b01895\n\n## Audit & Approval\n\nDaniel Luca will be auditing the new meta governance contract beginning on Sunday, January 24. If this proposal reaches a quorum of 50,000 votes on Snapshot with majority approval, the on-chain contracts will be deployed and an on-chain proposal will be created to execute this proposal once Daniel has completed the audit and any issues that come up are addressed.", "choices": ["Yes", "Yes, with updates", "No"], "start": 1611338400, "end": 1611684000, "snapshot": "11706252", "state": "closed", "author": "0x236ECcAB8cdcfEDb099dE85c4060024bA3cE4d46", "space": {"id": "ndx.eth", "name": "Indexed Finance"}, "votes": 43, "votes_data": [{"id": "QmTTE7wWyPounuRcbouJNLj9G1FBmMuNjmSFJQ2dHNWRuB", "voter": "0xadEa8f6843a25e92122F19B42f1c1e5CeD551A17", "created": 1611587380, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmerexsaCRRF9kR4Vve4sxow6Pp92N9Vf1xy9EC2VTHG1c", "voter": "0x5444C3377842568E5cCd77Df6F8b26C2c2eF3878", "created": 1611557930, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmUnmw4tCqsFn7yKKjCYwEQKGijvqVyF6vsh5DiNiCaEEV", "voter": "0xEdb54d30F854212063f5134a97616B7Af997C043", "created": 1611543507, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmbG9DVR9biWyCz9QgP51qkd9tW6fduYVB4gFBdZZ7wJ2S", "voter": "0x58024B6C1005dE40eAC2D4c06bC947ebf2a302Af", "created": 1611492856, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "Qmbv14z3FmDTM7ZQCCqcjLc68kiGkA7FH5YzVGWmnL7YMk", "voter": "0xC73Add416E2119d20cE80E0904FC1877e33EF246", "created": 1611486985, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmWarRE98BNM9YqAd8uUhsBxr77cvBFT8TENh4D67BmZ7X", "voter": "0x79C4213a328E3B4F1D87b4953C14759399dB25E2", "created": 1611436666, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmU3QHSVYsAheGcw5SSeJs9qNWF4pf1dT5gmRHXTi8htGt", "voter": "0x9FeCf056375A973308bB3D6fb6b1c230CfD21456", "created": 1611411587, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmTizxhbSHWR5ifEhGPLfTXo7Z19gxCwk5rbzXxKe8n5bG", "voter": "0x73F5a9689a3c03fa96Cd26723FAF0393d066f6D1", "created": 1611407581, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmZG2Hjn3kd6vgUXrNhzBhEq6AZEhGbUTX5ZR5a2F4ZWi1", "voter": "0x83F7F7Ced660e6DE2A8Cb065823CB848FF8Cc8dE", "created": 1611406707, "choice": 2, "space": {"id": "ndx.eth"}}, {"id": "QmP7Z8muaZr16NiukXRFMYyn6pJ3VSukazEhwPEWMm6GWr", "voter": "0x98E073b579FD483EaC8f10d5bd0B32C8C3BBD7e0", "created": 1611406330, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmYzYaB2GcqCPLmhjYYmjmsWX252SrG9j5iFxc2wC7dD2W", "voter": "0x52dcBD812598dCD10dA71d65F9AE23A86B15999E", "created": 1611404649, "choice": 2, "space": {"id": "ndx.eth"}}, {"id": "QmdxZr89Fdf24D2WJwGkriCZANSuEDDyqCTF1Bgjo4T6bE", "voter": "0x99391C6F4d33DdaC56E0856Db4eF0013851031bD", "created": 1611404605, "choice": 2, "space": {"id": "ndx.eth"}}, {"id": "QmVzW5gv3YkhoJbkHX5cGZjhfXfwsMgpuXMQ6aoZgrYyce", "voter": "0xA909be1aC709Bc08Bd8Cd69604CEe197360b3e33", "created": 1611399207, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmbNXPVRL2n893XZHF7cSesvRFmcFna8YDRQUc54jwq2Gv", "voter": "0x18101766d71482504a01dDd2c4c0815964D8BA1a", "created": 1611398523, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmQsSSHadwZRxY7adCqudtozHTMzeSxMg83gipGD3bzPz4", "voter": "0x4A816356078A4b74D2B5677c807f13F7F5126c83", "created": 1611396915, "choice": 2, "space": {"id": "ndx.eth"}}, {"id": "QmcRgP8dFD9oi9E3FjkgiMN2Rq6B5QhwQFR6JFa2PoGUXp", "voter": "0x0C5f1891581C2aB02C2CaF8f7b9852E7e631992e", "created": 1611386859, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmWipXvCdbc2CCTDYQqHNLon5rjwBTJAK24kxQWKSRSfR2", "voter": "0x5138CAB42b8C93A7F2CE932Bcc78EC1F13a56215", "created": 1611383778, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmSSgyLQcjLwfdUENVWrGxGsxLG6PtrLX9r8FYFK4td3kA", "voter": "0x8fBc89b8D9eD06f9454b8Bd45277e64e1977693E", "created": 1611382180, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmcxpELBBTP13Thtg1vLq3ykh1Lpi9PzEAgW98XXoLQFHC", "voter": "0x70f1033420e6a50dCB9894Cb76afa5443d749d4C", "created": 1611379662, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmY5Kg62CLy5EnpdFJrhrE4nAWDFYgJ8fA2goK7hXujKVk", "voter": "0x3795DD7b4758cE0F5DbB1D27A0cE299E9F723999", "created": 1611371156, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmPzGSDEtzyv9MDqnWfDShPt2D4Zjpt1vArrpqChhjmnvN", "voter": "0xF7B10D603907658F690Da534E9b7dbC4dAB3E2D6", "created": 1611364395, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmQgA3Eno16jDPmyPvQyCdYkAiSYfeCK54SoDhz1CTopB9", "voter": "0x1F0426b170547617bd4FC0fdf64B0B124Dc362Eb", "created": 1611352617, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmPWhMCMtvTNDhK9nrmaVbbU8G1vr9vsdi92hHAk299uDc", "voter": "0xACe59367AB502C8e6694F8152dD539519467042B", "created": 1611352484, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmSzcB17PXCfgE8X31ybqjMuN1vk3x1NZRGwhhY4S1y95J", "voter": "0x99b7BBe8c39Dac8eb68DC066B72A6e5A5dd84D30", "created": 1611351403, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmTKQX3k41D8ffyCwed4JfzUfAo72w4mSV8phTa1C6D8s1", "voter": "0x4F4eBF556CFDc21c3424F85ff6572C77c514Fcae", "created": 1611351344, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmSyEDLPirxjfTWiwgVKAQQZxUGvCNZXg5whk676XaJ3bx", "voter": "0x5a361A1dfd52538A158e352d21B5b622360a7C13", "created": 1611350756, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmUDKTuiFm6LndAZg6DvwxZGk8JuygZ4vPF6hmniAxFrzH", "voter": "0x326E90EBe2957EB593CD4210ab7e314c719aCAA2", "created": 1611350528, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmcRXn2P1vqzoWAk7eKRVUF5dnaD8R4HfNx1CGbtbBRMwf", "voter": "0x9D31e30003f253563Ff108BC60B16Fdf2c93abb5", "created": 1611350237, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmQfTKLJSpiLLKKv24imU9rjxJWCDb4SzfzfAmhWfx3TGh", "voter": "0x5D2221948BF991ef3BE560f9159e58417d8c370A", "created": 1611348826, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmQsQu9raDifKRdkqsChiz9Fs6PoYMBkXVkCLnBEf9Z3GK", "voter": "0xDb89f642E287175B6139372899178624719871Ea", "created": 1611347505, "choice": 2, "space": {"id": "ndx.eth"}}, {"id": "QmTB5h1zZKCBDd6MvXYdXmw5JjqpAMKvJnwHK7GLxCcxBT", "voter": "0xcfB464585241eab3Ecb392011648a8e829b951eD", "created": 1611347451, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmZZTWZKHqELRqpfYFZrS6ffXYtcZuzg6EdTp7aHWxGwmN", "voter": "0x938bf2B8A7E40472D846e50b8ffE763A0fc749d4", "created": 1611345534, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmW6bgTRq6Ycu25SKJbutXH679gVzpPejfnfKGFFZwncEV", "voter": "0x36c8e63Ca0D889c1244FCe13A9d63619479ACa3d", "created": 1611345191, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmU4a6JpVTyJrJgYsd8DdDJ1fB1GzK2tbiP5p7igunqkiQ", "voter": "0x1C544fB25e0D4D37694E257BD2BFcfBf4e8C3F76", "created": 1611344848, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmQcfQdDaoJKwHUBvbMiVrRh6UFjUYMKy8nX1Jygb6U6kS", "voter": "0x2Fa66AbEE1b3B6afE5c14566Ed4FdbadAf982b56", "created": 1611343642, "choice": 3, "space": {"id": "ndx.eth"}}, {"id": "QmbZKrdsHWhFREaaQGUf66mRZ9oar44oAend4DFEggCZAQ", "voter": "0x5eD3e0892f293D8AEBB526bD7eC6A094f913f7f0", "created": 1611343185, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmSq536GC4ddAAeBVY1qnQ32EEPknRg44tWpxR7C5tagLJ", "voter": "0x3070f20f86fDa706Ac380F5060D256028a46eC29", "created": 1611343153, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmZ6DiF7as1nCXAtH9aGYVUbFcR7TX9vRAmzrEsjbSMYhW", "voter": "0x1eb14c3FbbBf17c640bDE112F446A8Fa03A485b8", "created": 1611342924, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmX6CiBr836wprn1bHfsjvgZb7fnXE9iTg7CL2bCJZVTGo", "voter": "0x3D5ff23f56dc1240E571Dd011BF2e373d06AaF7F", "created": 1611342746, "choice": 2, "space": {"id": "ndx.eth"}}, {"id": "QmVtCsNxs5NQ7A1Jz1AQNgVXqVkwFKVnokituGt8foo7AM", "voter": "0x937Bbe8b2139E2874082f51DfB3C91D8873AB0f3", "created": 1611342708, "choice": 2, "space": {"id": "ndx.eth"}}, {"id": "QmToHXg1UGaooSyz5ZsApvWibvVyt32ehJ9oHDmuaKRoX3", "voter": "0x8D224E6eD387Ab13a2b4e17aF326713E9A9A1215", "created": 1611342680, "choice": 1, "space": {"id": "ndx.eth"}}, {"id": "QmRK7C3gzEN1KS5PAHZxSwLddx6M2XKSEWBaDw9hR96YBb", "voter": "0x64B7fcC8C17540139BDd84d00c7261035602Cb66", "created": 1611342623, "choice": 2, "space": {"id": "ndx.eth"}}, {"id": "QmPbggi4zMVHiZmf7VWW2NuoVkdiAJ7ErGNWJzKFy7kkXu", "voter": "0x7e388444731C38189C0685F6D98605107fF59282", "created": 1611340633, "choice": 1, "space": {"id": "ndx.eth"}}]}