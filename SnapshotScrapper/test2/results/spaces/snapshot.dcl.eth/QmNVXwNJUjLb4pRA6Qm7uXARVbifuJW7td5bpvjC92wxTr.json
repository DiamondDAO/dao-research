{"id": "QmNVXwNJUjLb4pRA6Qm7uXARVbifuJW7td5bpvjC92wxTr", "title": "Security audit for collections royalties marketplaces", "body": "> by 0x87956abc4078a0cc3b89b419928b857b8af826ed (Nacho)\n\nShould the following Tier 4: up to $60,000 USD, 6 months vesting (1 month cliff) grant in the Platform Contributor category be approved?\n\n## Abstract\n\nSupport royalties for Decentraland collections on secondary sales.\n\n\n## Grant size\n\n30,000 USD\n\n## Beneficiary address\n\n0xBCAc4dafB7e215f2F6cb3312aF6D5e4F9d9E7eDA\n\n## Description\n\nBased on the proposal passed [here](https://governance.decentraland.org/proposal/?id=b70c59d0-09c5-11ec-a4d1-8d5d2cba0825) + some free time I took the chance to upgrade the implementation of the Marketplace & Bid smart contracts to include royalties for collection creators/item beneficiaries. It is  **ONLY IN POLYGON** where UG collections are being created.\n\nFor the time being, royalties are going to be calculated following:\n\n*   Each token is an item kind. You may know that each item can have a beneficiary which is used for primary sales. If the item has a beneficiary, the royalties will go to the item's beneficiary. If not.\n*   Royalties will go to the collection creator.\n\nThe implementation of how the royalties receiver is calculated can be easily replaced by a new one. To understand how it can be done if you are tech, refer [here](https://github.com/decentraland/marketplace-contracts/blob/feat/marketplace-with-royalties/contracts/managers/RoyaltiesManager.sol)\n\nThe royalty will be 2.5%.\n\nThe smart contracts still support the current fee for the DAO but is going to be 0%. I decided to keep it if for some reason we need to have something like 1% for the DAO and 1.5% for creators.\n\nThe Grant amount can change. I've set a cap. I'm still waiting for the auditors' quote.\n\n\n## Specification\n\nThe smart contracts are ready for being audited.\n\nBoth implementations are [here for the marketplace](https://github.com/decentraland/marketplace-contracts/pull/56) and [here for bids](https://github.com/decentraland/bid-contract/pull/2)\n\nThe plan is to start testing the smart contracts within the Decentraland Marketplace ASAP.  Once we can be sure that everything is working as expected and safe, launch it.\n\n\n## Personnel\n\n[@Nacho](https://github.com/nachomazzara): Decentraland Evangelist\n\n\n## Roadmap and milestones\n\nThe roadmap for adding the royalties in the Decentraland Marketplace will be:\n\n*   Audit the smart contracts\n*   Deploy them in the Mumbai testnet.\n*   Integrate the new smart contracts in the subgraphs & in the UI.\n*   Deploy in Polygon.\n*   Launch\n\nRelated to the topic for this Grant. The roadmap is just to pay for the audit of the smart contracts.\n\nFor integrating the smart contract in the Decentraland Marketplace I will require effort for the engineer team.\n\n**[Vote on this proposal on the Decentraland DAO](https://governance.decentraland.org/proposal/?id=7b6692e0-44d7-11ec-be0c-afec86cba5e5)**", "choices": ["yes", "no"], "start": 1636845240, "end": 1637450040, "snapshot": "13610512", "state": "closed", "author": "0x5E23D08324f017d5425e59A2782C9ae27aCE0958", "space": {"id": "snapshot.dcl.eth", "name": "Decentraland"}, "votes": 24, "votes_data": [{"id": "0x7030c0d66570119f72616c777dde7ab632cc28326bf9890bc0aaadef46096092", "voter": "0xC54A6C3778016b06cBD126cCc3B5Bc06c5F666fb", "created": 1637382008, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0x9ecd9b2d2e1e1c0ff3eeada7bc993b5e06695d9a1a83a2d5a21deab3165a696a", "voter": "0x96e99A4Ce092406b8C54fED16806a7D6e4c028e6", "created": 1637375975, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmVGxpdKXhMXXcL7FbSUEJntRfQCat4sHvcv5Ab6yJ9uf9", "voter": "0xc5B4e3ed8b30BF691BfDA2D1604080A6781D0FC3", "created": 1637330100, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "Qmc5rqtUriyAsDymiHUfbXNsphzdJRAcKjFAiPqHhMGNki", "voter": "0x4EfB206EEc3F109a542639Ef23F3d79Ea09FC02B", "created": 1637167156, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmQRJGJkzgNdwdji9X3HzZdzEMd6jJhZuTDdfkg2ziHPGD", "voter": "0x52fa613b2097808E275356c6a174d0b767F8e0C4", "created": 1637105896, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0x6fc3c63be2fd52f647238dfb9b729bc75f2c4082cd5c9ec3ead89024e3e6e19c", "voter": "0xb1ABE87b60024F9522FF96CF6E07B0FBB959Aa91", "created": 1637057356, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0xda35a7fddabfcef69fd86d6cc2073192f734898e5b1a199ddce1e4c96316f1ec", "voter": "0xCcf3F0a288c9A54c0803591052F15a60cf9AA25a", "created": 1637055226, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0x7c06285620fea19b155a88a728a6e9165a73f768993b2cbb956971b68e3d75f6", "voter": "0x86aecfc1E3973108Ce14b9b741a99d3466127170", "created": 1637011987, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmPZrJsdiiMRomzLMLayF3X1CSAXNioYnYxyVMNRrWU4CZ", "voter": "0x51a514d3F28Ea19775e811fC09396E808394bd12", "created": 1637005118, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmVdNYFXsid3j12Lr1aoNUUh4GvBEKvkNQgqCvpiHornAa", "voter": "0xD11a019a70986Bd607CBC1c1f9Ae221C78581F49", "created": 1636984993, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmY79HfApSAvbDkSXZqRAii6zzrncKaUmsSkZwTmPec6RB", "voter": "0xF081eDa01d8D3b10F6F93fF1459339b9eD174D3C", "created": 1636984944, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmRoZiUHkBQekDYaUKf3TotGzubrzoFnp5xupKhxYeSeK4", "voter": "0xD72B0b5f4005F421F3c70CBF02e2F0Aa3b497a86", "created": 1636984524, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0x3985924a63cb323e5ea2ddcea4dea5688529402293ece4eaf7c1e851d50bd26c", "voter": "0xdBA843151831cc30E42E5561ec8aa05eaF60cd90", "created": 1636957110, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmZq2GDrDEnLhzMJY6rXCoqvBaKW2eSbze2GprHin8obs3", "voter": "0x4b320312b94A7b9AA80B7f0615799395A6e3B627", "created": 1636920647, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0x8d97807eb3f628404e4b21df9e5b9d6a59045106022dbe73e39f025de40353fd", "voter": "0x38dAEa6f17E4308b0Da9647dB9ca6D84a3A7E195", "created": 1636918665, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmU2oqfXM3Nbw22SddEiuTzHbTEU5Sn6hQhk1NvZqRozXW", "voter": "0xcAD1f3de1777b513D88BafB08fC2BEa5EeD98c50", "created": 1636914244, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0xc8be889bb717a9e79e452b91166f3430ccba732c178b0531f412a75dc4382db9", "voter": "0x0928bD64F3c896660c0f32E990bC203cAf360A0A", "created": 1636904833, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmdvSbABm9ZViJuuo56VWK3YP67B6hhBdNAj4NAjaXXrMr", "voter": "0x735197DDCC89B4E141788535FE7A249D4512292F", "created": 1636893659, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0x69f4531dfd6548c1c6446225d0947b6d364b7885c9a64d94a3eb61fddace574c", "voter": "0xfacc8a005Fd673fBca9F3c91f1A4784cE92452D9", "created": 1636891174, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0x938251d01d1a8757f1d213493d5eb103cdddd318354ba89340185faf6339d07f", "voter": "0x7b6aF040b7760Bc890f50707F61263385F6ecF1C", "created": 1636881510, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0x889af1f22af6182d5d4d50c015dd936db133957a39d5d6e77755ce7053b745f6", "voter": "0xd7E1df3C6d6F974F2AED3d13Cec917217C9A7187", "created": 1636868248, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "0xaa5ded59684dfca62d066284b38017a34e5d59b3171fe90c0d1bf7a3f4b01ad4", "voter": "0x18fff78773a449D63EE954a681320572840Bed18", "created": 1636865264, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmeZC4AZ2rXn8bL8tZUjH1gyxtf1T1Dpb12vCS1kXFwMww", "voter": "0x521B0fEf9CDCf250aBaF8e7BC798CBE13fa98692", "created": 1636854864, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}, {"id": "QmWVoaHhRg6aJ4hzKz2Sga7BysksunSrh7A287zCK6vUPh", "voter": "0xCF10CD8B5Dc2323B1eb6de6164647756BAd4dE4d", "created": 1636845583, "choice": 1, "space": {"id": "snapshot.dcl.eth"}}]}